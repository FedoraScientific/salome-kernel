#  SALOME SALOMEDS : data structure of SALOME and sources of Salome data server 
#
#  Copyright (C) 2003  OPEN CASCADE, EADS/CCR, LIP6, CEA/DEN,
#  CEDRAT, EDF R&D, LEG, PRINCIPIA R&D, BUREAU VERITAS 
# 
#  This library is free software; you can redistribute it and/or 
#  modify it under the terms of the GNU Lesser General Public 
#  License as published by the Free Software Foundation; either 
#  version 2.1 of the License. 
# 
#  This library is distributed in the hope that it will be useful, 
#  but WITHOUT ANY WARRANTY; without even the implied warranty of 
#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU 
#  Lesser General Public License for more details. 
# 
#  You should have received a copy of the GNU Lesser General Public 
#  License along with this library; if not, write to the Free Software 
#  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA 
# 
#  See http://www.opencascade.org/SALOME/ or email : webmaster.salome@opencascade.org 
#
#
#
#  File   : Makefile.in
#  Author : Marc Tajchman
#  Module : SALOME

top_srcdir=@top_srcdir@
top_builddir=../..
srcdir=@srcdir@
VPATH=.:@srcdir@:@top_srcdir@/idl:$(top_srcdir)/idl


@COMMENCE@

EXPORT_HEADERS= \
	SALOMEDS_StudyManager_i.hxx \
	SALOMEDS_OCAFApplication.hxx \
	Handle_SALOMEDS_OCAFApplication.hxx

# Libraries targets

LIB = libSalomeDS.la
LIB_SRC = 	\
		  SALOMEDS_StudyManager_i.cxx \
		  SALOMEDS_UseCaseBuilder_i.cxx \
		  SALOMEDS_UseCaseIterator_i.cxx \
		  SALOMEDS_ChildIterator_i.cxx \
		  SALOMEDS_SComponentIterator_i.cxx \
		  SALOMEDS_Study_i.cxx \
		  SALOMEDS_StudyBuilder_i.cxx \
		  SALOMEDS_SObject_i.cxx \
		  SALOMEDS_SComponent_i.cxx \
		  SALOMEDS_OCAFApplication.cxx \
		  SALOMEDS_GenericAttribute_i.cxx \
		  SALOMEDS_IORAttribute.cxx \
		  SALOMEDS_ExternalFileDef.cxx \
		  SALOMEDS_FileType.cxx \
	          SALOMEDS_PersRefAttribute.cxx \
	          SALOMEDS_AttributeComment_i.cxx \
	          SALOMEDS_AttributeExternalFileDef_i.cxx \
	          SALOMEDS_AttributeFileType_i.cxx \
	          SALOMEDS_AttributeIOR_i.cxx \
	          SALOMEDS_AttributeInteger_i.cxx \
	          SALOMEDS_AttributeName_i.cxx \
	          SALOMEDS_AttributePersistentRef_i.cxx \
	          SALOMEDS_AttributeReal_i.cxx \
	          SALOMEDS_AttributeSequenceOfReal_i.cxx \
	          SALOMEDS_AttributeSequenceOfInteger_i.cxx \
	          SALOMEDS_AttributeDrawable_i.cxx \
	          SALOMEDS_AttributeSelectable_i.cxx \
	          SALOMEDS_AttributeOpened_i.cxx \
	          SALOMEDS_AttributeFlags_i.cxx \
	          SALOMEDS_AttributeGraphic_i.cxx \
	          SALOMEDS_AttributeExpandable_i.cxx \
	          SALOMEDS_AttributeTextColor_i.cxx  \
	          SALOMEDS_AttributeTextHighlightColor_i.cxx  \
	          SALOMEDS_AttributePixMap_i.cxx  \
		  SALOMEDS_AttributeTreeNode_i.cxx \
		  SALOMEDS_AttributeLocalID_i.cxx \
	          SALOMEDS_AttributeUserID_i.cxx \
	          SALOMEDS_AttributeTarget_i.cxx \
	          SALOMEDS_AttributeTableOfInteger_i.cxx \
	          SALOMEDS_AttributeTableOfReal_i.cxx \
		  SALOMEDS_AttributeTableOfString_i.cxx \
		  SALOMEDS_AttributeStudyProperties_i.cxx \
		  SALOMEDS_AttributePythonObject_i.cxx \
	          SALOMEDS_SequenceOfRealAttribute.cxx \
	          SALOMEDS_SequenceOfIntegerAttribute.cxx \
	          SALOMEDS_DrawableAttribute.cxx \
	          SALOMEDS_SelectableAttribute.cxx \
	          SALOMEDS_ExpandableAttribute.cxx  \
	          SALOMEDS_OpenedAttribute.cxx \
	          SALOMEDS_FlagsAttribute.cxx \
	          SALOMEDS_GraphicAttribute.cxx \
	          SALOMEDS_TextColorAttribute.cxx \
	          SALOMEDS_TextHighlightColorAttribute.cxx \
	          SALOMEDS_PixMapAttribute.cxx \
	          SALOMEDS_LocalIDAttribute.cxx \
	          SALOMEDS_TargetAttribute.cxx \
	          SALOMEDS_TableOfIntegerAttribute.cxx \
	          SALOMEDS_TableOfRealAttribute.cxx \
	          SALOMEDS_TableOfStringAttribute.cxx \
		  SALOMEDS_StudyPropertiesAttribute.cxx \
		  SALOMEDS_PythonObjectAttribute.cxx \
		  SALOMEDS_DataMapOfIntegerString_0.cxx \
		  SALOMEDS_DataMapIteratorOfDataMapOfIntegerString_0.cxx \
		  SALOMEDS_DataMapNodeOfDataMapOfIntegerString_0.cxx \
	          SALOMEDS_DataMapIteratorOfDataMapStringLabel_0.cxx \
	          SALOMEDS_DataMapNodeOfDataMapStringLabel_0.cxx \
	          SALOMEDS_DataMapStringLabel_0.cxx 

# Executables targets
BIN = SALOMEDS_Server SALOMEDS_Client
BIN_SRC = 
LIB_SERVER_IDL = SALOMEDS.idl SALOMEDS_Attributes.idl SALOME_Exception.idl SALOME_ContainerManager.idl
BIN_SERVER_IDL = SALOMEDS.idl SALOMEDS_Attributes.idl
BIN_CLIENT_IDL = 
LIB_CLIENT_IDL = SALOME_Component.idl SALOME_GenericObj.idl

CPPFLAGS+=$(OCC_INCLUDES) $(HDF5_INCLUDES)
CXXFLAGS+=$(OCC_CXXFLAGS)
LDFLAGS+= $(HDF5_LIBS) -lTOOLSDS -lSalomeNS -lSalomeHDFPersist -lOpUtil -lSALOMELocalTrace $(CAS_LDPATH) -lTKCAF -lTKBO -lTKStdSchema -lSalomeGenericObj -lSalomeLifeCycleCORBA -lSalomeContainer -lSalomeResourcesManager

# _CS_gbo_090604 Ajout Spécifique Calibre 3, pour l'utilisation de la version 5.12 de la bibliothèque OCC.
# La bibliothèque OCC5.12 a été compilée sur Calibre 3 avec l'extention Xmu (impossible de compiler sans).
# On est donc obligé ici, pour permettre l'édition de lien avec les bibliothèques OCC, de spécifier le
# chemin d'accès aux bibliothèques Xmu
#
LDXMUFLAGS= -L/usr/X11R6/lib -lXmu
LDFLAGS+=$(LDXMUFLAGS)
LDFLAGSFORBIN+= $(LDFLAGS) -lRegistry -lSalomeNotification -lSALOMETraceCollector

@CONCLUDE@


